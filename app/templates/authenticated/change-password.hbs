{{page-title "Change Password"}}

<div class="p-8 flex justify-center">
  <div class="flex flex-col w-full max-w-lg">
    <EuiChangesetForm
      @onSubmit={{perform this.onSubmit}}
      @changeset={{changeset this this.Validations}} 
      @runExecuteInsteadOfSave={{true}}
      @fullWidth={{true}}
      as |Form changesetObj|
    >
      <Form.FieldPassword 
        @fieldName="oldPassword" 
        @label="Old Password" 
      />

      <Form.FieldPassword 
        @fieldName="newPassword"
        @label="New Password" 
      />

      <Form.FieldPassword 
        @fieldName="newPasswordConfirmation"
        @label="New Password Confirmation" 
      />

      <EuiButton
        @type="submit"
        @fill={{true}}
        @color="primary"
        @iconType="save"
        @isLoading={{this.onSubmit.isRunning}}
        @isDisabled={{changesetObj.isInvalid}}
      >
        Change Password
      </EuiButton>
    </EuiChangesetForm>
  </div>
</div>
